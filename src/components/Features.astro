---
const features = [
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>`,
    title: 'Dashboard Overview',
    description: 'Real-time stats showing monthly and annual spending at a glance. See active subscriptions, total costs, and spending trends.',
    accent: 'cyan',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>`,
    title: 'Subscription Management',
    description: 'Track all your subscriptions in one place with auto-detected logos, custom categories, and flexible billing cycles.',
    accent: 'purple',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>`,
    title: 'Calendar View',
    description: 'Visual calendar showing all renewal dates. Export to iCal or subscribe via URL to see renewals in your favorite calendar app.',
    accent: 'cyan',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>`,
    title: 'Analytics & Charts',
    description: 'Visualize spending by category, track savings over time, and understand exactly where your money is going.',
    accent: 'purple',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>`,
    title: 'Smart Notifications',
    description: 'Email and Pushover push notifications for renewal reminders. Never get caught off guard by an unexpected charge.',
    accent: 'cyan',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>`,
    title: 'Multi-Currency',
    description: '13 currencies supported with optional real-time conversion via Fixer.io. USD, EUR, GBP, JPY, INR, and more.',
    accent: 'purple',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>`,
    title: 'Docker Ready',
    description: 'Multi-platform Docker image for AMD64 and ARM64. Deploy in seconds with Docker Compose. SQLite means zero external dependencies.',
    accent: 'cyan',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`,
    title: 'Privacy First',
    description: 'Fully self-hosted with zero tracking. Your subscription data never leaves your server. Optional login with bcrypt + session auth.',
    accent: 'purple',
  },
  {
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>`,
    title: 'REST API & MCP',
    description: 'Full REST API with key-based auth for integrations. Plus a Model Context Protocol server for AI assistants like Claude.',
    accent: 'cyan',
  },
];
---

<section class="features" id="features">
  <div class="container">
    <div class="section-header">
      <span class="section-tag">Features</span>
      <h2 class="section-title">Everything you need.<br />Nothing you don't.</h2>
      <p class="section-subtitle">
        Built for self-hosters who want a clean, powerful subscription tracker
        without the bloat of SaaS alternatives.
      </p>
    </div>
    <div class="features-grid">
      {features.map((feature, i) => (
        <div class="feature-card" data-accent={feature.accent} style={`animation-delay: ${i * 0.05}s`}>
          <div class="feature-icon" set:html={feature.icon} />
          <h3 class="feature-title">{feature.title}</h3>
          <p class="feature-desc">{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .features {
    padding: 8rem 0;
    position: relative;
  }

  .section-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .section-tag {
    display: inline-block;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--accent);
    background: var(--accent-glow);
    padding: 0.35rem 0.85rem;
    border-radius: 6px;
    margin-bottom: 1.25rem;
  }

  .section-title {
    font-family: var(--font-display);
    font-size: clamp(2rem, 4vw, 3rem);
    line-height: 1.15;
    letter-spacing: -0.02em;
    margin-bottom: 1rem;
  }

  .section-subtitle {
    color: var(--text-secondary);
    font-size: 1.1rem;
    max-width: 520px;
    margin: 0 auto;
    line-height: 1.7;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem;
  }

  .feature-card {
    background: var(--bg-card);
    border: 1px solid var(--border-subtle);
    border-radius: 16px;
    padding: 2rem;
    transition: all 0.3s ease;
    animation: fadeInUp 0.6s ease-out both;
  }

  .feature-card:hover {
    background: var(--bg-card-hover);
    border-color: var(--border-accent);
    transform: translateY(-4px);
  }

  .feature-card[data-accent="cyan"]:hover {
    box-shadow: 0 8px 40px var(--accent-glow);
    border-color: var(--accent-dim);
  }

  .feature-card[data-accent="purple"]:hover {
    box-shadow: 0 8px 40px var(--secondary-glow);
    border-color: var(--secondary-dim);
  }

  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    border-radius: 12px;
    margin-bottom: 1.25rem;
  }

  .feature-card[data-accent="cyan"] .feature-icon {
    background: var(--accent-glow);
    color: var(--accent-bright);
  }

  .feature-card[data-accent="purple"] .feature-icon {
    background: var(--secondary-glow);
    color: var(--secondary);
  }

  .feature-title {
    font-family: var(--font-body);
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    letter-spacing: -0.01em;
  }

  .feature-desc {
    color: var(--text-secondary);
    font-size: 0.9rem;
    line-height: 1.65;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 900px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 600px) {
    .features-grid {
      grid-template-columns: 1fr;
    }

    .features {
      padding: 5rem 0;
    }
  }
</style>
